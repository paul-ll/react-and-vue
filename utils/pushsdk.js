!function(){var e="V1.32",t="plog",n="default",o=require("./push-stat-conf.js"),i=!1,s=!1,a={},p="",r={uu:"",ak:"",pm:"",wvv:"",wsdk:"",sv:"",wv:"",nt:"",ww:"",wh:"",pr:"",pp:"",lat:"",lng:"",ev:"",st:"",et:"",ppx:"",ppy:"",v:"",data:"",fid:"",lang:"",wsr:"",ifo:"",jscode:"",etype:""};function f(e){var t=wx.getStorageSync("t_uuid");return t||(t=""+Date.now()+Math.floor(1e7*Math.random()),wx.setStorageSync("t_uuid",t),r.ifo=!0),t}var u=function(e){wx.getLocation({type:"wgs84",success:function(t){i=!0,r.lat=t.latitude,r.lng=t.longitude,h(e,"location","location")},fail:function(){i=!1}})},c=function(e){wx.getSetting({success:function(t){t.authSetting["scope.userLocation"]&&u(e),t.authSetting["scope.userInfo"]&&d(e,function(t){e.aldpush_login_data=t,h(e,"user_info","userinfo")})}})},d=function(e,t){wx.login({success:function(e){e.code?(r.jscode=e.code,wx.getUserInfo({success:function(e){s=!0,t(e)},fail:function(e){s=!1,h(e,"user_info_close","user_info_close")}})):r.jscode=0}})},l=function(e,n,o){"undefined"==typeof arguments[1]&&(n="GET"),"undefined"==typeof arguments[2]&&(o="d.html");var i=0,s=function(){wx.request({url:"https://"+t+".xiaoshentui.com/"+o,data:e,header:{},method:n,success:function(){},fail:function(){2>i&&(i++,e.retryTimes=i,s())}})};s()};function h(t,n,i){var s=f(t),u=0;if("app"==n&&"hide"==i){var c=Date.now();u=r.ifo?1:0}var d="";"user_info"==n?d=t.aldpush_login_data:"user_info_close"==n?d={status:0}:"event"==n?(d=a,console.log(a)):d=0;var h="fpage"==n||"fhpage"==n?r.fid:0,g="page"==n||"app"==n||"fpage"==n||"fhpage"==n?0:r.jscode,w={uu:s,ak:o.app_key,pm:r.pm?r.pm:0,wvv:r.wvv?r.wvv:0,wsdk:r.wsdk?r.wsdk:0,sv:r.sv?r.sv:0,wv:r.wv?r.wv:0,nt:r.nt?r.nt:0,ww:r.ww?r.ww:0,wh:r.wh?r.wh:0,pr:r.pr?r.pr:0,pp:r.pp?r.pp:0,lat:r.lat?r.lat:0,lng:r.lng?r.lng:0,ev:n,life:i,st:Date.now(),et:c?c:0,ppx:r.ppx?r.ppx:0,ppy:r.ppy?r.ppy:0,v:e,data:d,fid:h,lang:r.lang?r.lang:0,wsr:"app"==n?t.aldpush_showOptions:{},ifo:u,jscode:g};""!==p&&"event"===n&&(w.etype=p),l(w,"GET","d.html")}function g(e){this.app=e}function w(e){this.aldPush=new g(this);var t=this;"undefined"!=typeof e?(t.aldpush_showOptions=e,r.pp=e.path):t.aldpush_showOptions={};var n=function(){wx.getNetworkType({success:function(e){r.nt=e.networkType}})};n(),c(t),wx.getSystemInfo({success:function(e){r.pm=e.model,r.wv=e.version,r.wsdk="undefined"==typeof e.SDKVersion?"1.0.0":e.SDKVersion,r.sv=e.system,r.wvv=e.platform,r.ww=e.screenWidth,r.wh=e.screenHeight,r.pr=e.pixelRatio,r.lang=e.language},complete:function(){}}),wx.getSystemInfoSync({success:function(e){r.pm=e.model,r.wv=e.version,r.wsdk="undefined"==typeof e.SDKVersion?"1.0.0":e.SDKVersion,r.sv=e.system,r.wvv=e.platform,r.ww=e.screenWidth,r.wh=e.screenHeight,r.pr=e.pixelRatio,r.lang=e.language},complete:function(){}})}function v(e){var t=this;t.aldpush_showOptions="undefined"!=typeof e?e:{},h(t,"app","show")}function m(){var e=this;h(e,"app","hide")}function x(e){var t=this;t.options=e}function _(e){var t=this;"undefined"==typeof e&&(e=t.options),r.pp=t.__route__,"default"!=n&&n!=t.__route__&&(s||d(t,function(e){t.aldpush_login_data=e,h(t,"user_info","userinfo")})),n=t.__route__,h(t,"page","hide")}function y(e,t){for(var n=r.ww,o=r.wh,i=this,s={length:[],is_showHideBtn:!0},a=0;50>=a;a++){var p=Math.ceil(Math.random()*n),f=Math.ceil(Math.random()*o),u='-webkit-transform: scale(0.5);transform:scale(1);content:"";height:88px;width:88px;border:1px solid transparent;background-color:transparent;position:fixed;z-index: -1;left:'+p+"px;top:"+f+"px;";s.length.push(u)}var c=wx.getStorageSync("isShowClick");i.setData({isShowClick:Boolean(c),btn_style:{name:"sdk默认按钮",style:"border:1px solid transparent;"},miniSubscribeBtn:{name:"订阅",style:"width:50%;border:1px solid #000;padding:8px 50px;border-radius:8px;font-size:0.8rem;line-height:1.5;background-color:#fff;"},miniFollowBtn:{name:"+关注",style:"width:50%;border:1px solid #000;padding:8px 50px;border-radius:8px;font-size:0.8rem;line-height:1.5;background-color:#fff;"},longSubscribeBtn:{name:"点击订阅",style:"border:1px solid #000;padding:3px 100px;font-size:0.8rem;line-height:1.5;background-color:#fff;"},longFollowBtn:{name:"点击关注",style:"border:1px solid#000;padding:3px 100px;font-size:0.8rem;line-height:1.5;background-color:#fff;"}})}function S(e){console.log(e);var t=this,n="pushFormSubmit";r.ppx=e.detail.target.offsetLeft,r.ppy=e.detail.target.offsetTop,r.fid=e.detail.formId;function o(){wx.setStorageSync("isShowClick","false"),t.setData({is_showHideBtn:!0,isShowClick:"false"})}s||d(t,function(e){t.aldpush_login_data=e,h(t,"user_info","userinfo"),o()}),i||u(t),h(t,"fpage","clickform")}function k(e,t){var n="",o=this;e&&(n=e.currentTarget?e.currentTarget:{},a=n,p=e.type,h(o,"event",t))}function b(e){var t=this;r.ppx=e.detail.target.offsetLeft,r.ppy=e.detail.target.offsetTop,r.fid=e.detail.formId,t.setData({is_showHideBtn:!0}),h(t,"fhpage","hideclickform")}function D(e,t,n){if(e[t]){var o=e[t];e[t]=function(e){n.call(this,e),o.call(this,e)}}else e[t]=function(e){n.call(this,e)}}var T=App;App=function(e){D(e,"onLaunch",w),D(e,"onHide",m),T(e)};var B=Page;Page=function(e){D(e,"onHide",_),D(e,"pushFormSubmit",S),D(e,"hidepushFormSubmit",b),B(e)}}();