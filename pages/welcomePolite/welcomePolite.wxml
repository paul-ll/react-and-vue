<!-- 邀请弹窗 -->

<import src="/utils/templates/wetoast/wetoast.wxml" />
<import src="/utils/templates/no_network/no_network.wxml" />
<import src="/utils/templates/loading/loading.wxml" />
<import src="/utils/templates/no_data/no_data.wxml" />


<template is="wetoast" data="{{...__wetoast__}}" />
<template is="network" data="{{...network}}" />
<template is="loading" wx:if='{{loading}}' />
<template is="noData" data="{{...nodata}}" /> 

<!--焦点图  -->
<view wx:if='{{haveData}}'>
  <swiper class="swiperView" indicator-dots="true" autoplay="true" interval="5000" duration="1000" indicator-color="#fff" indicator-active-color="#ff4891" hidden='{{banner.length==0}}' style='height:{{swiperHeight}}rpx'>
    <block wx:for="{{banner}}" wx:key="item">
      <swiper-item>
        <image src="{{item.path}}" class="focus" mode='widthFix' bindload='bindImageLoad' />
      </swiper-item>
    </block>
  </swiper>
  <!--福利  -->
  <image src='{{image_url}}' class='welcomImg' mode='widthFix'></image>
  <!--滚动图  -->
  <view class='second'>
    <view class='rule' bindtap='ruleAction'>
      <view class='ruleText'>详细规则</view>
      <image class='ruleImg' src='/images/welcomeRule.png'></image>
    </view>
    <view class='haveInvateFriend' wx:if='{{invate_info.invate_num > 0}}'>
      <view class='haveTitle'>
        {{invate_info.invate_title}}
      </view>
      <view class='haveInvateNum' bindtap='myFrend'>
        <view style='font-size:50rpx; color:#ff4891; margin-bottom:10rpx'>{{invate_info.invate_num}}</view>
        <view style='font-size:24rpx; color:#262626;margin-left:8rpx'>位</view>
        <image class='rightArrow' src='/images/rightArrow.png'></image>
      </view>
    </view>
    <view class='noInvateFriend' wx:else>
      <view class='nofrend'>
        {{invate_info.invate_title}}
      </view>
      <view class='welcomeFriend' bindtap='myFrend' wx:if='{{invate_info.invate_history.length!=0}}'>
        <view class='welcomeFriendText'>
          {{invate_info.invite_pro_doc}}
        </view>
        <image class='rightArrow' src='/images/rightArrow.png'></image>
      </view>
    </view>
    <!--轮播图  -->
    <view class='invateConfig'>
      <view class='configItem' wx:for='{{invate_info.invate_config}}' wx:for-item='item' wx:key='item'>
        <image class='configImg' src='{{item.invate_level_image}}'></image>
        <image class='welcomeSuccess' hidden='{{invate_info.invate_num < item.invate_level_num}}' src='/images/welcome-sucess.png'></image>
        <view class='configNum'>{{item.invate_level_num}}位</view>
      </view>
    </view>


  </view>
  <!--排行榜  -->
  <view class='rank'>
    <view class='PKRanking'>
      <view class='PkItem' bindtap='countryAction'>
        <view class='PkText {{select=="country"?"selectPk":""}}'>{{countryInfo.name}}</view>
        <view class='pkLine' hidden='{{select!="country"}}'></view>
      </view>
      <view class='PkItem' bindtap='friendAction'>
        <view class='PkText {{select=="country"?"":"selectPk"}}'>{{friendInfo.name}}</view>
        <view class='pkLine' hidden='{{select=="country"}}'></view>
      </view>
    </view>
    <view class='countrylist' hidden='{{select!="country"}}'>
      <view class='instructions'>
        {{countryInfo.notice_tip}}
      </view>
      <view class='noData' hidden='{{countryInfo.rankList.length > 0}}'>
        <image src='/images/welcome-noData.png'></image>
        <view>今天的榜单还没更新呢,记得10点后来看看哦~</view>
      </view>
      <view class='listItem' wx:for='{{countryInfo.rankList}}' wx:for-item='item' wx:for-index="idx" wx:key='item'>
        <view>
          <image class='rinkNum' wx:if="{{idx==0}}" src='/images/welcomeFirst.png'></image>
          <image class='rinkNum' wx:elif="{{idx==1}}" src='/images/welcomeTwo.png'></image>
          <image class='rinkNum' wx:elif="{{idx==2}}" src='/images/welcomeThree.png'></image>
          <image class='rinkNum' wx:else></image>
        </view>
        <view class='listLeft'>
          <image class='listHeader' src='{{item.user_avatar}}'></image>
          <image class='rinkHeader' wx:if="{{idx==0}}" src='/images/welcomeHeaderOne.png'></image>
          <image class='rinkHeader' wx:elif="{{idx==1}}" src='/images/welcomeHeaderTwo.png'></image>
          <image class='rinkHeader' wx:elif="{{idx==2}}" src='/images/welcomeHeaderThree.png'></image>
        </view>
        <view class='listContent'>
          <view class='name'>{{item.nick_name}}</view>
          <view class='haveFriend'>{{item.invite_text}}</view>
        </view>
      </view>
      <view class='more' hidden='{{countryInfo.rankList.length>0?false:true}}' bindtap='moreAction'>
        <view> 查看更多</view>
        <image class='rightArrow' src='/images/rightArrow.png'></image>
      </view>
    </view>
    <view class='friendlist' hidden='{{select=="country"}}'>
      <view class='instructions'>
        {{friendInfo.notice_tip}}
      </view>
      <view class='noData' hidden='{{friendInfo.rankList.length > 0}}'>
        <image src='/images/welcome-noData.png'></image>
        <view>还没有好友呢,快去邀请吧</view>
      </view>
      <view class='listItem' wx:for='{{friendInfo.rankList}}' wx:for-item='item' wx:for-index="idx" wx:key='item'>
        <view>
          <image class='rinkNum' wx:if="{{idx==0}}" src='/images/welcomeFirst.png'></image>
          <image class='rinkNum' wx:elif="{{idx==1}}" src='/images/welcomeTwo.png'></image>
          <image class='rinkNum' wx:elif="{{idx==2}}" src='/images/welcomeThree.png'></image>
          <image class='rinkNum' wx:else></image>
        </view>
        <view class='listLeft'>
          <image class='listHeader' src='{{item.user_avatar}}'></image>
          <image class='rinkHeader' wx:if="{{idx==0}}" src='/images/welcomeHeaderOne.png'></image>
          <image class='rinkHeader' wx:elif="{{idx==1}}" src='/images/welcomeHeaderTwo.png'></image>
          <image class='rinkHeader' wx:elif="{{idx==2}}" src='/images/welcomeHeaderThree.png'></image>
        </view>
        <view class='listContent'>
          <view class='name'>{{item.nick_name}}</view>
          <view class='haveFriend'>{{item.invite_text}}</view>
        </view>
        <view class='listRight' hidden='{{item.presents.length==0}}'>
          <view class='get'>获得</view>
          <view class='politeItem' wx:for='{{item.presents}}' wx:for-item='presentsItem' wx:key='presentsItem'>
            <image src='/images/politeItem.png'>
              <view class='politeText'>{{presentsItem}}</view>
            </image>
          </view>
        </view>
      </view>
      <view class='more' hidden='{{friendInfo.rankList.length>0?false:true}}' bindtap='moreAction'>
        <view> 查看更多</view>
        <image class='rightArrow' src='/images/rightArrow.png'></image>
      </view>
    </view>
  </view>
  <view style='height:150rpx;'></view>
  <view class='immediatelyWelcomeBg'>
    <button class='immediatelyWelcome' open-type='share'>立即邀请</button>
  </view>
  <!--弹框  -->
  <view class="mask-shadow {{hiddenWindow?'hiddenView':''}}" catchtap="closeRedPacket" wx:if="{{invate_message}}">
    <view class="red-packet-content">
      <view class="welcome_friend">
        {{invate_message.success_message}}
      </view>
      <view class="welcome_friend_img">
        <view wx:for="{{invate_message.head_images}}" wx:key="item">
          <image class="welcome_friend_icon" src="{{item}}"></image>
        </view>
      </view>
      <view class="welcome_friend_list">
        <view class="welcome_friend_text">
          {{invate_message.invate_message}}
        </view>
      </view>
      <view class="welcome_friend_btn">
        我知道了
      </view>
    </view>
  </view>
</view>